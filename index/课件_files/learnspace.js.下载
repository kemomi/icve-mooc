if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());var utrace=wa_getCookie("_uid");if(utrace==null||utrace==""){utrace=wa_uuid();wa_setCookie("_uid",utrace,365)}var StudyType={VIDEO:"video",HOMEWORK:"homework",TEST:"test",EXAM:"exam",TOPIC:"topic",DOC:"doc",EXPERIMENT:"experiment",TEXT:"text",COURSEWARE:"courseware",RESOURCE:"resource",LINK:"link",LIVE:"live",COURSE_DETAIL:"courseDetail",COURSE_EXAM:"exam",COURSE_HOMEWORK:"homework",COURSE_TEST:"test",COURSE_TOPIC:"topic",COURSE_NOTICE:"courseNotice",COURSE_ANSWER:"answer",COURSE_NOTE:"note",COURSE_STATIS:"courseStatis",COURSE_COMMENT:"courseComment",COURSE_MAIN:"courseMain",getStudyType:function(b){var a="";if(b==this.VIDEO){a=this.VIDEO}else{if(b==this.HOMEWORK){a=this.HOMEWORK}else{if(b==this.TEST){a=this.TEST}else{if(b==this.EXAM){a=this.EXAM}else{if(b==this.TOPIC){a=this.TOPIC}else{if(b==this.DOC){a=this.DOC}else{if(b==this.EXPERIMENT){a=this.EXPERIMENT}else{if(b==this.TEXT){a=this.TEXT}else{if(b==this.COURSEWARE){a=this.COURSEWARE}else{if(b==this.RESOURCE){a=this.RESOURCE}else{if(b==this.LINK){a=this.LINK}else{if(b==this.LIVE){a=this.LIVE}else{if(b==this.COURSE_DETAIL){a=this.COURSE_DETAIL}else{if(b==this.COURSE_EXAM){a=this.COURSE_EXAM}else{if(b==this.COURSE_HOMEWORK){a=this.COURSE_HOMEWORK}else{if(b==this.COURSE_TEST){a=this.COURSE_TEST}else{if(b==this.COURSE_TOPIC){a=this.COURSE_TOPIC}else{if(b==this.COURSE_NOTICE){a=this.COURSE_NOTICE}else{if(b==this.COURSE_ANSWER){a=this.COURSE_ANSWER}else{if(b==this.COURSE_NOTE){a=this.COURSE_NOTE}else{if(b==this.COURSE_STATIS){a=this.COURSE_STATIS}else{if(b==this.COURSE_COMMENT){a=this.COURSE_COMMENT}else{if(b==this.COURSE_MAIN){a=this.COURSE_MAIN}}}}}}}}}}}}}}}}}}}}}}}return a}};var ActivityType={COURSE:"course",BUTTON:"button",COMPONENT:"component",getActivityType:function(b){var a="";if(b==this.COURSE){a=this.COURSE}else{if(b==this.BUTTON){a=this.BUTTON}else{if(b==this.COMPONENT){a=this.COMPONENT}}}return a}};var PlatformType={PC:"pc",MOBILE:"mobile"};var OSType={MAC:"mac",NUIX:"nuix",LINUX:"linux",WINDOWS:"windows",ANDROID:"android",IOS:"ios",WP:"WindowsPhone",SB:"SymbianOS",OTHER:"other"};var agents=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod");var wa_count=0;var wa_interval=window.setInterval(function(){wa_count++},1000);(function(){var u=new Date;var r={};var c={};var d={};var f={};var k={};var h={};var s={};var q={};var j={};var n={};var g={};r.id=utrace;f.startTime=wa_dateFormat(u,"yyyy-MM-dd hh:mm:ss");k.startTime=wa_dateFormat(u,"yyyy-MM-dd hh:mm:ss");if(document){d.domain=document.domain||"";f.name=""||"";f.location=wa_filter(document.URL||"");k.name=""||"";k.location=wa_filter(document.URL||"")}if(window&&window.screen){var b={};b.height=window.screen.height||0;b.width=window.screen.width||0;b.colorDepth=window.screen.colorDepth||0;s.screen=b}if(navigator){var t=navigator.userAgent.toLowerCase();var e=(t.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1];var l=wa_userBrowser();if(t.indexOf("like gecko")!=-1&&t.indexOf("rv")!=-1&&t.indexOf("firefox")==-1){l="IE";e="11.0"}s.browser=l+" "+e;s.platform=wa_isMobile()?PlatformType.MOBILE:PlatformType.PC;q.deviceName=wa_getClientOS();q.os=wa_getOSVersion()}if(_maq){for(var o in _maq){switch(_maq[o][0]){case"siteId":d.id=_maq[o][1];break;case"siteCode":d.siteCode=_maq[o][1];break;case"loginId":c.loginId=_maq[o][1];break;case"roleType":c.roleType=_maq[o][1];break;case"userName":c.name="";break;case"activityId":f.id=_maq[o][1];h.course=_maq[o][1];break;case"activityType":f.type=ActivityType.getActivityType(_maq[o][1]);break;case"resourceId":k.id=_maq[o][1];h.resource=_maq[o][1];break;case"sectionId":h.section=_maq[o][1];break;case"sectionName":h.sectionName="";break;case"resourceType":k.type=StudyType.getStudyType(_maq[o][1]);break;case"resourceName":k.name=_maq[o][1];h.sectionName="";break;case"resourceSequence":k.sequence=_maq[o][1];break;case"appCode":j.code=_maq[o][1];break;case"appName":j.name="";break;case"appVersion":j.version=_maq[o][1];break;case"jumpPage":n.jumpPage=_maq[o][1];break;case"sessionId":g.sessionId=_maq[o][1];break;default:break}}}c.account=d;k.section=h;s.terminal=q;f.extensions=n;c.extensions=g;s.app=j;r.actor=c;r.activity=f;r.entity=k;r.detail=s;var v=new Image(1,1);var p=JSON.stringify(r);var m="http:"==window.location.protocol?"http:":"https:";v.src=encodeURI(m+"//wa.webtrn.cn/ls.was?sid="+wa_uuid()+"&info="+p)})();var leave_time;wa_FaddEvent(window,"beforeunload",wa_leaveStat,false);function wa_leaveStat_text_read(){var e=wa_dualData();if(e&&e.entity){var d={};d.textRead=true;e.duration="";if(e.entity){e.entity.extensions=d;e.entity.endTime=""}}var b=new Image(1,1);var c=JSON.stringify(e);var a="http:"==window.location.protocol?"http:":"https:";b.src=encodeURI(a+"//wa.webtrn.cn/ls.was?sid="+wa_uuid()+"&info="+c);setTimeout(function(){},1000)}function wa_dualData(){var o=new Date;var e={};var f={};var m={};var d={};var g={};var p={};var k={};var l={};var c={};var n={};var b={};e.id=utrace;d.endTime=wa_dateFormat(o,"yyyy-MM-dd hh:mm:ss");g.endTime=wa_dateFormat(o,"yyyy-MM-dd hh:mm:ss");leave_time=o.getTime();e.duration=wa_count*1000;window.clearInterval(wa_interval);if(document){m.domain=document.domain||"";d.name=""||"";d.location=wa_filter(document.URL||"");g.name=""||"";g.location=wa_filter(document.URL||"")}if(window&&window.screen){var r={};r.height=window.screen.height||0;r.width=window.screen.width||0;r.colorDepth=window.screen.colorDepth||0;k.screen=r}if(navigator){var q=navigator.userAgent.toLowerCase();var j=(q.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1];var s=wa_userBrowser();if(q.indexOf("like gecko")!=-1&&q.indexOf("rv")!=-1&&q.indexOf("firefox")==-1){s="IE";j="11.0"}k.browser=s+" "+j;k.platform=wa_isMobile()?PlatformType.MOBILE:PlatformType.PC;l.deviceName=wa_getClientOS();l.os=wa_getOSVersion()}if(_maq){for(var h in _maq){switch(_maq[h][0]){case"siteId":m.id=_maq[h][1];break;case"siteCode":m.siteCode=_maq[h][1];break;case"loginId":f.loginId=_maq[h][1];break;case"roleType":f.roleType=_maq[h][1];break;case"userName":f.name="";break;case"activityId":d.id=_maq[h][1];p.course=_maq[h][1];break;case"activityType":d.type=ActivityType.getActivityType(_maq[h][1]);break;case"resourceId":g.id=_maq[h][1];p.resource=_maq[h][1];break;case"sectionId":p.section=_maq[h][1];break;case"sectionName":p.sectionName="";break;case"resourceType":g.type=StudyType.getStudyType(_maq[h][1]);break;case"resourceName":g.name=_maq[h][1];p.sectionName="";break;case"resourceSequence":g.sequence=_maq[h][1];break;case"appCode":c.code=_maq[h][1];break;case"appName":c.name="";break;case"appVersion":c.version=_maq[h][1];break;case"jumpPage":n.jumpPage=_maq[h][1];break;case"sessionId":b.sessionId=_maq[h][1];break;default:break}}}f.account=m;g.section=p;k.terminal=l;d.extensions=n;f.extensions=b;k.app=c;e.actor=f;e.activity=d;e.entity=g;e.detail=k;return e}function wa_leaveStat(){var d=wa_dualData();var b=new Image(1,1);var c=JSON.stringify(d);var a="http:"==window.location.protocol?"http:":"https:";b.src=encodeURI(a+"//wa.webtrn.cn/ls.was?sid="+wa_uuid()+"&info="+c);setTimeout(function(){},1000)}function wa_filter(c){try{var a=decodeURIComponent(decodeURIComponent(c));if(a.indexOf("?")>-1){if(a.match(/[\u4e00-\u9fa5]/g)!=null){return""}}}catch(b){}c=c.replace(/\?/g,"%3F");c=c.replace(/\=/g,"%3D");c=c.replace(/\&/g,"%26");c=c.replace(/\#/g,"%23");return c}function wa_Fempty(a){if(a!=null&&(typeof(a)=="object"||typeof(a)=="function")){return false}return((""==a||undefined==a||null==a)?true:false)}function wa_FaddEvent(d,a,b,c){if(c==true){d=Fid(d)}if(!wa_Fempty(d.attachEvent)&&(typeof(d.attachEvent)=="function"||typeof(d.attachEvent)=="object")){d.attachEvent("on"+a,b)}else{if(!wa_Fempty(d.addEventListener)&&(typeof(d.addEventListener)=="function"||typeof(d.addEventListener)=="object")){d.addEventListener(a,b,false)}}}function wa_uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var b=Math.random()*16|0,a=d=="x"?b:(b&3|8);return a.toString(16)})}function wa_getCookie(b){var c=document.cookie;var d=c.indexOf(" "+b+"=");if(d==-1){d=c.indexOf(b+"=")}if(d==-1){c=null}else{d=c.indexOf("=",d)+1;var a=c.indexOf(";",d);if(a==-1){a=c.length}c=unescape(c.substring(d,a))}c=c==null?"":c;return c}function wa_setCookie(a,d,b){var e=new Date();e.setDate(e.getDate()+b);var c=escape(d)+((b==null)?"":"; expires="+e.toUTCString());document.cookie=a+"="+c+"; path=/"}function wa_userBrowser(){var a=navigator.userAgent.toLowerCase();if(/msie/i.test(a)&&!/opera/.test(a)){return"IE"}else{if(/firefox/i.test(a)){return"Firefox"}else{if(/opr/i.test(a)){return"Opera"}else{if(/chrome/i.test(a)&&/webkit/i.test(a)&&/mozilla/i.test(a)){return"Chrome"}else{if(/opera/i.test(a)){return"Opera"}else{if(/webkit/i.test(a)&&!(/chrome/i.test(a)&&/webkit/i.test(a)&&/mozilla/i.test(a))){return"Safari"}else{return"unKnow"}}}}}}}function wa_dateFormat(a,c){if(c===undefined){c=a;a=new Date()}var b={M:a.getMonth()+1,d:a.getDate(),h:a.getHours(),m:a.getMinutes(),s:a.getSeconds(),q:Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};c=c.replace(/([yMdhmsqS])+/g,function(f,e){var d=b[e];if(d!==undefined){if(f.length>1){d="0"+d;d=d.substr(d.length-2)}return d}else{if(e==="y"){return(a.getFullYear()+"").substr(4-f.length)}}return f});return c}function wa_isMobile(){var a=navigator.userAgent;var b=false;for(var c=0;c<agents.length;c++){if(a.indexOf(agents[c])>0){b=true;break}}return b}function wa_getClientOS(){var a=navigator.userAgent;var d=(navigator.platform=="Win32")||(navigator.platform=="Windows");var f=(navigator.platform=="Mac68K")||(navigator.platform=="MacPPC")||(navigator.platform=="Macintosh")||(navigator.platform=="MacIntel");if(f){return OSType.MAC}var e=OSType.OTHER;for(var b=0;b<agents.length;b++){if(a.indexOf(agents[b])>0){e=agents[b];if(agents[b]=="Android"){e=OSType.ANDROID}else{if(agents[b]=="iPhone"||agents[b]=="iPad"||agents[b]=="iPod"){e=OSType.IOS}else{if(agents[b]=="Windows Phone"){e=OSType.WP}else{if(agents[b]=="SymbianOS"){e=OSType.SB}}}}break}}if(e==OSType.OTHER){var c=(navigator.platform=="X11")&&!d&&!f;if(c){return OSType.NUIX}var g=(String(navigator.platform).indexOf("Linux")>-1);if(g){return OSType.LINUX}if(d){return OSType.WINDOWS}}return e}function wa_getOSVersion(){var d="";var b={win:false,mac:false,xll:false,iphone:false,ipoad:false,ipad:false,ios:false,android:false,nokiaN:false,winMobile:false,wii:false,ps:false};var a=navigator.userAgent;var c=navigator.platform;b.win=c.indexOf("Win")==0;b.mac=c.indexOf("Mac")==0;b.xll=(c.indexOf("Xll")==0||c.indexOf("Linux")==0);if(b.win){if(/Win(?:dows )?([^do]{2})\s?(\d+\.\d+)?/.test(a)){if(RegExp["$1"]=="NT"){switch(RegExp["$2"]){case"5.0":b.win="2000";break;case"5.1":b.win="XP";break;case"6.0":b.win="Vista";break;case"6.1":b.win="7";break;case"6.2":b.win="8";break;default:b.win="NT";break}d="Windows "+b.win}else{if(RegExp["$1"]=="9x"){b.win="ME";d="Windows "+b.win}else{b.win=RegExp["$1"]}}}}b.iphone=a.indexOf("iPhone")>-1;b.ipod=a.indexOf("iPod")>-1;b.ipad=a.indexOf("iPad")>-1;b.nokiaN=a.indexOf("nokiaN")>-1;if(b.win=="CE"){b.winMobile=b.win;d="Windows "+b.win}else{if(b.win=="Ph"){if(/Windows Phone OS (\d+.\d)/i.test(a)){b.win="Phone";b.winMobile=parseFloat(RegExp["$1"]);d="Windows "+b.win+b.winMobile}}}if(b.mac&&a.indexOf("Mobile")>-1){if(/CPU (?:iPhone )?OS (\d+_\d+)/i.test(a)){b.ios=parseFloat(RegExp["$1"].replace("_","."))}else{b.ios=2}d="ios "+b.ios}if(/Android (\d+\.\d+)/i.test(a)){b.android=parseFloat(RegExp["$1"]);d="Android "+b.ios}return d};