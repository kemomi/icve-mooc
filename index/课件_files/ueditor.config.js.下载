(function(){var d=function(){var k=window.document.location.href;var m=window.document.location.pathname;var l=k.indexOf(m);var i=k.substring(0,l);var j=m.substring(0,m.substr(1).indexOf("/")+1);return(i+j)};var b=function(){var i="";$.ajax({url:d()+"/learn/learnCourseItem/getCloudOpenConfig.json",dataType:"json",async:false,success:function(j){if(j.data.cloudUpload&&j.data.cloudUpload=="true"){i="cloudupload"}},error:function(){console.error("UE编辑器云盘配置toolbar加载失败！")}});return i};var h=b();var a=window.UEDITOR_HOME_URL||g();window.UEDITOR_CONFIG={UEDITOR_HOME_URL:a,serverUrl:a+"jsp/controller.jsp",toolbars:[["bold","italic","underline","|","insertorderedlist","insertunorderedlist","|","simpleupload","insertimage","link","attachment"]],text_simple_toolbars:[["insertorderedlist","insertunorderedlist","|","simpleupload","insertimage","link","attachment","wordimage","paragraph"]],super_toolbars:[["fontfamily","fontsize","bold","italic","underline","forecolor","simpleupload","insertimage","link","spechars","wordimage","attachment","insertorderedlist","insertunorderedlist","rowspacingtop","rowspacingbottom","lineheight","indent","justifyleft","justifycenter","justifyright","justifyjustify",h]],homework_toolbars:[["bold","italic","underline","|","insertorderedlist","insertunorderedlist","|","simpleupload","insertimage","link","whatyformula"]],labelMap:{cloudupload:"从云盘选择文件"},iframeCssUrl:a+"/themes/iframe.css",enableContextMenu:false,elementPathEnabled:false,dialogPositionForIframe:true};function g(i,j){return e(i||self.document.URL||self.location.href,j||c())}function c(){var i=document.getElementsByTagName("script");return i[i.length-1].src}function e(i,j){var k=j;if(/^(\/|\\\\)/.test(j)){k=/^.+?\w(\/|\\\\)/.exec(i)[0]+j.replace(/^(\/|\\\\)/,"")}else{if(!/^[a-z]+:/i.test(j)){i=i.split("#")[0].split("?")[0].replace(/[^\\\/]+$/,"");k=i+""+j}}return f(k)}function f(k){var l=/^[a-z]+:\/\//.exec(k)[0],j=null,i=[];k=k.replace(l,"").split("?")[0].split("#")[0];k=k.replace(/\\/g,"/").split(/\//);k[k.length-1]="";while(k.length){if((j=k.shift())===".."){i.pop()}else{if(j!=="."){i.push(j)}}}return l+i.join("/")}window.UE={getUEBasePath:g}})();