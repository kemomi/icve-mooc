var tempateType="";var resourceType="";$(function(){tempateType=$("#templateType",top.document).val();resourceType=$("#resourceType").val();var b=window.navigator.userAgent.toLowerCase();if(b.indexOf("msie 8.0")<0){window.addEventListener("message",function(d){if(d.data.operation=="confirmGoOnLearn"){fullConfirmGoOnLearn(d.data)}if(d.data.operation=="noticeUserAlert"){noticeUserAlert(d.data)}},false)}if(tempateType!="7"||!CommonUtil.supportH5ForAli()){var a=getPlayerFrame();var c=getPlayerDivId();sendMsg({operation:"fullscreenStatus",status:false,position:c,frameIds:a,resourceType:resourceType})}$(window).unload(function(){sendMsg({operation:"leavePlayer"})})});function fullConfirmGoOnLearn(e){var a=e.authType;var i=e.timeout;var j=e.playerPosition;if(a=="numAuth"){layer.open({closeBtn:0,type:2,title:'<font color="#45494c" size="2" style="font-family: \'Roboto\', sans-serif;">亲，您已经学了'+i+"分钟了,请输入验证码继续学习</font>",shade:0.2,area:["420px","230px"],content:getPlatformRootPath()+"/sso/numVerifyCode.action",end:function(){sendMsg({operation:"confirmCallback",authType:"numAuth"})}})}else{if(a=="imageAuth"){layer.open({closeBtn:0,type:2,title:'<font color="#45494c" size="2" style="font-family: \'Roboto\', sans-serif;">亲，您已经学了'+i+"分钟了,请完成拼图继续学习</font>",shade:0.2,area:["420px","280px"],content:getPlatformRootPath()+"/sso/imgVerifyCode.action",end:function(){sendMsg({operation:"confirmCallback",authType:"imageAuth"})}})}else{if(a=="clickAuth"){layer.alert("亲，您已经学了"+i+"分钟了,点击“确定”继续学习。",{closeBtn:0},function(k){layer.close(k);sendMsg({operation:"confirmCallback",authType:"clickAuth"})})}}}$("body").find(".layui-layer-move").appendTo("#"+j);var d=$("body").find(".layui-layer");var h=$("body").find(".layui-layer-shade");var g={backgroundColor:"#F8F8F8",cursor:"default"};var f={padding:"0 80px 0 20px",height:"42px",lineHeight:"42px",borderBottom:"1px solid #eee",fontSize:"14px",color:"#333",overflow:"hidden",backgroundColor:"#F8F8F8",borderRadius:"2px 2px 0 0"};var c={textAlign:"right",padding:"0 15px 12px",pointerEvents:"auto",userSelect:"none"};var b={height:"28px",lineHeight:"28px",margin:"5px 5px 0",padding:"0 15px",border:"1px solid #dedede",borderRadius:"2px",fontWeight:"400",cursor:"pointer",textDecoration:"none"};h.css("cursor","default");h.appendTo("#"+j);d.css(g);d.find(".layui-layer-content").css("color","#555");d.find(".layui-layer-title").css(f);d.find(".layui-layer-btn").css(c);d.find(".layui-layer-btn").find("a").css(b);d.appendTo("#"+j)}function noticeUserAlert(b){var a=b.timeout;pauseVideo();alert("亲，您已经学了"+a+"分钟了,点击“确定”继续学习。");sendMsg({operation:"confirmCallback",authType:"clickAuth"})}function sendMsg(a){top.postMessage(a,"*")}function getPlayerFrame(){var b=self;var a="";while(b.frameElement!=null){a=a+","+b.frameElement.id;b=b.parent}return a.substring(1)}function getPlayerDivId(){var a="";if(resourceType=="video"){if(tempateType=="4"||tempateType=="8"){a="cont"}else{a="container"}}else{if(resourceType=="courseware"){a="flash_player,flash_player2"}}return a}function pauseVideo(){var b=$("#videoOrigin").val();var c=$("#wareOrigin").val();if(resourceType=="video"){if(b==3&&tempateType!="1"&&tempateType!="8"&&player!=null){player.pause();return}else{if(jwplayer("container").getState()=="PLAYING"){jwplayer("container").pause();return}}}if(resourceType=="courseware"){if(c==3){playerObj.myPause();return}else{var a=jwplayer("flash_player");if(a.getState()=="PLAYING"){a.pause();jwplayer("flash_player2").pause()}return}}};