var duma={dumaScolling:function(a){if(document.getElementById(a)){return document.getElementById(a)}},getStyle:function(a){return a.currentStyle||document.defaultView.getComputedStyle(a,null)},getOffset:function(c){var a=c.offsetTop,b=c.offsetHeight;while(c=c.offsetParent){a+=c.offsetTop}return{top:a,height:b}},bind:function(c,a,b){if(c.addEventListener){c.addEventListener(a,b,false)}else{if(c.attachEvent){c.attachEvent("on"+a,b)}else{c["on"+a]=b}}},stopEvent:function(a){a=a||window.event;a.stopPropagation&&(a.preventDefault(),a.stopPropagation())||(a.cancelBubble=true,a.returnValue=false)},setCookie:function(b,c,a){var d=new Date();d.setDate(d.getDate()+a);document.cookie=b+"="+escape(c)+((a==null)?"":";expires="+d.toGMTString())},getCookie:function(a){if(document.cookie.length>0){c_start=document.cookie.indexOf(a+"=");if(c_start!=-1){c_start=c_start+a.length+1;c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length}return unescape(document.cookie.substring(c_start,c_end))}}return""}};duma.BeautifyScrollBar=function(f,b,c,a,d,e,g){this.arrowUpInterval;this.arrowDownInterval;this.barMouseDownInterval;this.relY;this.id=f;this.obj=duma.dumaScolling(this.id);this.setObjCss();this.obj.innerHTML='<div id="'+f+'Area" class="dumascroll_area">'+this.obj.innerHTML+'</div><div id="'+f+'Bar" class="dumascroll_bar"><div class="dumascroll_arrow_up"></div><div class="dumascroll_handle"></div><div class="dumascroll_arrow_down"></div></div>';this.area=duma.dumaScolling(f+"Area");this.bar=duma.dumaScolling(f+"Bar");this.barPos;this.arrowUp=this.bar.getElementsByTagName("div")[0];this.arrowUpCss=b;this.arrowUpActiveCss=c;this.handle=this.bar.getElementsByTagName("div")[1];this.handleCss=a;this.handleActiveCss=d;this.arrowDown=this.bar.getElementsByTagName("div")[2];this.arrowDownCss=e;this.arrowDownActiveCss=g;this.handleMinHeight=15;this.arrowUpHeight=parseInt(duma.getStyle(this.arrowUp).height);this.arrowDownHeight=parseInt(duma.getStyle(this.arrowDown).height);this.areaScrollHeight=this.area.scrollHeight;this.handleHeight=200};duma.BeautifyScrollBar.prototype={setObjCss:function(){duma.getStyle(this.obj).position=="static"?this.obj.style.position="relative":duma.getStyle(this.obj).backgroundColor=="transparent"?this.obj.style.backgroundColor="#fff":null},sethandle:function(){this.handle.style.top=this.arrowUpHeight+"px";if(this.handleHeight>this.handleMinHeight){this.handleHeight<this.bar.offsetHeight-this.arrowUpHeight-this.arrowDownHeight?this.handle.style.height=this.handleHeight+"px":this.handle.style.display="none"}else{this.handleHeight=this.handleMinHeight;this.handle.style.height=this.handleMinHeight+"px"}},setBarPos:function(){this.barPos=this.area.scrollTop+"";duma.setCookie(this.id+"CookieName",this.barPos,1)},getBarPos:function(){this.barPos=duma.getCookie(this.id+"CookieName");if(this.barPos!=null&&this.barPos!=""){}},clearArrowUpInterval:function(){clearInterval(this.arrowUpInterval)},clearArrowDownInterval:function(){clearInterval(this.arrowDownInterval)},clearBarMouseDownInterval:function(){clearInterval(this.barMouseDownInterval)},areaScroll:function(){var a=this.area.scrollHeight-this.area.offsetHeight;this.handle.style.display!="none"?this.handle.style.top=this.area.scrollTop/(a==0?1:a)*(this.bar.offsetHeight-this.handleHeight-this.arrowUpHeight-this.arrowDownHeight)+this.arrowUpHeight+"px":null},areakeydown:function(b){var a=this;document.onkeydown=function(d){var f=d||window.event,c=f.keyCode||f.which;if(c==40){a.area.scrollTop+=25}else{if(c==38){a.area.scrollTop-=25}}if(a.area.scrollTop>0&&a.area.scrollTop<a.area.scrollHeight-a.area.offsetHeight){duma.stopEvent(f)}a.setBarPos()}},handleMove:function(a){var a=a||window.event;this.area.scrollTop=(a.clientY-this.relY-this.arrowUpHeight)/(this.bar.offsetHeight-this.handleHeight-this.arrowUpHeight-this.arrowDownHeight)*(this.area.scrollHeight-this.area.offsetHeight);this.setBarPos()},handleMouseDown:function(b){var a=this,b=b||window.event;a.relY=b.clientY-a.handle.offsetTop;a.handle.setCapture?a.handle.setCapture():null;a.handle.className=a.handleActiveCss;document.onmousemove=function(c){a.handleMove(c)};document.onmouseup=function(){a.handle.className=a.handleCss;a.handle.releaseCapture?a.handle.releaseCapture():null;document.onmousemove=null}},barScroll:function(b){var b=b||window.event,a;if(b.wheelDelta){a=b.wheelDelta/120}else{if(b.detail){a=-b.detail/3}}a>0?this.area.scrollTop-=45:this.area.scrollTop+=45;if(this.area.scrollTop>0&&this.area.scrollTop<this.area.scrollHeight-this.area.offsetHeight){duma.stopEvent(b)}this.setBarPos()},barDown:function(g){var g=g||window.event,d=this,b=g.clientY,f=this.bar.offsetHeight,a=document.documentElement.scrollTop||document.body.scrollTop,c=duma.getOffset(this.handle),h=duma.getOffset(this.bar);if(a+b<c.top){this.barMouseDownInterval=setInterval(function(i){d.area.scrollTop-=d.area.offsetHeight;if(d.area.scrollTop<=(b+a-h.top-d.arrowUpHeight)/(d.bar.offsetHeight-d.arrowUpHeight-d.arrowDownHeight)*d.area.scrollHeight){d.clearBarMouseDownInterval()}d.setBarPos()},80)}else{if(a+b>c.top+c.height){this.barMouseDownInterval=setInterval(function(){d.area.scrollTop+=d.area.offsetHeight;if(d.area.scrollTop>=(b+a-h.top-d.arrowUpHeight-c.height)/(d.bar.offsetHeight-d.arrowUpHeight-d.arrowDownHeight)*d.area.scrollHeight){d.clearBarMouseDownInterval()}d.setBarPos()},80)}}duma.stopEvent(g)},arrowUpMouseDown:function(b){var a=this;this.arrowUpInterval=setInterval(function(){a.area.scrollTop-=25;a.setBarPos()},10);this.arrowUp.className=this.arrowUpActiveCss;duma.stopEvent(b)},arrowUpMouseUp:function(){this.clearArrowUpInterval();this.arrowUp.className=this.arrowUpCss},arrowUpMouseOut:function(){this.clearArrowUpInterval();this.arrowUp.className=this.arrowUpCss},arrowDownMouseDown:function(b){var a=this;this.arrowDownInterval=setInterval(function(){a.area.scrollTop+=25;a.setBarPos()},10);this.arrowDown.className=this.arrowDownActiveCss;duma.stopEvent(b)},arrowDownMouseUp:function(){this.clearArrowDownInterval();this.arrowDown.className=this.arrowDownCss},arrowDownMouseOut:function(){this.clearArrowDownInterval();this.arrowDown.className=this.arrowDownCss},run:function(){var a=this;this.sethandle();this.areaScroll();this.getBarPos();this.area.onscroll=function(){a.areaScroll()};this.area.onmouseover=this.bar.onmouseover=function(b){a.areakeydown(b)};this.area.onmouseout=this.bar.onmouseout=function(){document.onkeydown=null};this.handle.onmousedown=function(b){a.handleMouseDown(b)};this.bar.onmousedown=function(b){a.barDown(b)};this.bar.onmouseup=function(){a.clearBarMouseDownInterval()};this.bar.onmouseout=function(){a.clearBarMouseDownInterval()};this.arrowUp.onmousedown=function(b){a.arrowUpMouseDown(b)};this.arrowUp.onmouseup=function(){a.arrowUpMouseUp()};this.arrowUp.onmouseout=function(){a.arrowUpMouseOut()};this.arrowDown.onmousedown=function(b){a.arrowDownMouseDown(b)};this.arrowDown.onmouseup=function(){a.arrowDownMouseUp()};this.arrowDown.onmouseout=function(){a.arrowDownMouseOut()};duma.bind(this.obj,"mousewheel",function(b){a.barScroll(b)});duma.bind(this.obj,"DOMMouseScroll",function(b){a.barScroll(b)})}};duma.BeautifyScrollBar.init=function(){var g=document.getElementsByTagName("div"),e=g.length,f=/\bdumascroll\b/,d=[],c=d.length;for(var b=0;b<e;b++){if(f.test(g[b].className)){d.push("dumaScrollAreaId_"+b);c=d.length;g[b].id=d[c-1]}}for(var a=0;a<c;a++){new duma.BeautifyScrollBar(d[a],"dumascroll_arrow_up","dumascroll_arrow_up_a","dumascroll_handle","dumascroll_handle_a","dumascroll_arrow_down","dumascroll_arrow_down_a").run()}};function selfhandleheight(){if($("#nav").height()<=$(".dumascroll").height()){$(".dumascroll_handle").css("height","0px")}else{$(".dumascroll_handle").css("height","200px")}}selfhandleheight();