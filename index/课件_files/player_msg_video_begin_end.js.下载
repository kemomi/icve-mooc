(function(c){var d=true;var a="";var e="";c.fn.showSkipVideoBeginMsg=function(){b.showSkipVideoBeginBox()};c.fn.showSkipVideoEndMsg=function(){b.showSkipVideoEndBox()};c.fn.h5ShowSkipBeginEndMsg=function(){b.h5ShowSkipBeginEndBox()};var b={showSkipVideoBeginBox:function(){var g=c("#showVideoSkipButton").val();if(window.existOpenVideo()&&g==="1"){var f=c("#playOpeningVideo").val();if(f==="0"){b.showSkipMsgBox("片头","已")}}},showSkipVideoEndBox:function(){var g=c("#showVideoSkipButton").val();if(window.existEndVideo()&&g==="1"){var f=c("#playEndingVideo").val();if(f==="0"){b.showSkipMsgBox("片尾","即将")}}},saveConfig:function(f,g){c.ajax({url:basePath+"/learn/learnCourseware/saveVideoSkipBeginEnd.json",type:"post",data:{"params.courseId":courseId,"params.skipStatus":f,"params.optionType":g},dataType:"json",async:true,cache:false,success:function(h){if(h.data.success==="true"){d=false;c("#openActionMsg").hide();b.initBoxPosition();c("#openVideoBeginEndMsg").show();setTimeout(function(){c("#openVideoBeginEndMsg").hide();c("#videoBeginEndMsg").remove()},3000)}},error:function(){console.log("设置跳过片头片尾失败")}})},initBoxPosition:function(){var f=c("#container").height();c("#videoBeginEndMsg").css({left:"60px",top:f*0.8+"px"})},h5ShowSkipBeginEndBox:function(){var f='<div id="videoBeginEndMsg" class="open-end-hint-wrapper"><div id="openActionMsg" class="oae-bubble-hint" style="padding: 0px 14px;color: white;font-size: 12px;line-height: 36px;"><span class="text">已为您自动跳过片头片尾</span><a id="skipAction" class="link"></div></div>';var g=c("#videoBeginEndMsg").length;if(g!==0){c("#videoBeginEndMsg").remove()}c("#container").append(f);var h=c("#container").height();c("#videoBeginEndMsg").css({left:"30px",top:h*0.6+"px"});clearTimeout(e);e=setTimeout(function(){c("#videoBeginEndMsg").remove()},3000)},showSkipMsgBox:function(i,h){var g='<div id="videoBeginEndMsg" class="open-end-hint-wrapper"><div id="openVideoBeginEndMsg" style="display: none;padding: 0px 14px;color: white;font-size: 12px;line-height: 36px;" class="oae-bubble-hint"><span class="text">'+i+'开启成功</span></div><div id="openActionMsg" class="oae-bubble-hint" style="padding: 0px 14px;color: white;font-size: 12px;line-height: 36px;"><span class="text">'+h+"为您自动跳过"+i+'，</span><a id="skipAction" class="link">点击开启</a></div></div>';var j='<div id="openVideoBeginEndMsg" style="display: none;padding: 0px 14px;color: white;font-size: 12px;line-height: 36px;" class="oae-bubble-hint"><span class="text">'+i+'开启成功</span></div><div id="openActionMsg" class="oae-bubble-hint" style="padding: 0px 14px;color: white;font-size: 12px;line-height: 36px;"><span class="text">'+h+"为您自动跳过"+i+'，</span><a id="skipAction" class="link">点击开启</a></div>';var f=c("#videoBeginEndMsg").length;var k=c("#openVideoBeginEndMsg").length;if(f>0&&k===0){c("#videoBeginEndMsg").append(j)}else{if(f===0&&k===0){c("#container").append(g)}else{if(f>0&&k>0&&a==="片头"){c("#videoBeginEndMsg").remove();c("#videoBeginEndMsg").append(j)}}}a=i;b.initBoxPosition();c("#skipAction").click(function(l){b.saveConfig("1",i==="片头"?"0":"1");l.stopPropagation()});setTimeout(function(){if(d){c("#videoBeginEndMsg").remove()}},3000)}}})(jQuery);